(this.webpackJsonpwkc=this.webpackJsonpwkc||[]).push([[0],{234:function(e,t,a){e.exports=a(449)},241:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(36),i=a(104),s=a(152),u=Object(s.a)({userData:{},val:0});console.log(u);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"incr":return console.log(e),console.log(e.get("val")),e.set("val",1);case"get":return console.log(t.data),e;case"login":return console.log(t.data),localStorage.setItem("accessToken",t.data.data.access_token),e=e.set("userData",Object(s.a)(t.data.data));case"logout":return e;default:return console.log("action has missed for ",t),e}},m=Object(i.b)(d),b=(a(241),a(44)),g=a.n(b),h=a(22),p=a(119),f=(a(89),a(70)),v=a.n(f),j=(a(90),a(91),function(e){return{type:"login",data:e}}),E=function(e){return{type:"get",data:e}},O=function(e){return{type:"signouts"}},y=function(){return{type:"incr"}},w=a(19),S=a(492),k=a(495);var x=function(e){var t=e.type,a=e.placeholder,n=Object(p.a)(e,["type","placeholder"]),o=Object(w.c)(n),c=Object(h.a)(o,2),l=c[0],i=c[1];return r.a.createElement(S.a,{component:"div",m:2,"max-width":"50%"},r.a.createElement(k.a,Object.assign({helperText:i.error,width:"200",id:"outlined-basic",size:n.size,variant:"outlined",type:t,placeholder:a},l)))},C=a(55),_=a.n(C),T=_.a.create({baseURL:"http://dev.api.staller.show",headers:{"Content-Type":"application/json"}});T.interceptors.request.use((function(e){if(!e.headers.Authorization){var t=window.localStorage.getItem("accessToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),(function(e){return Promise.reject(e)}));var q=T,I=(a(123),a(488));var R=function(){var e=Object(l.b)(),t=Object(n.useState)({}),a=Object(h.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(h.a)(i,2),u=s[0],d=s[1],m=Object(n.useCallback)((function(t){return e(E(t.data))}),[e]);return Object(n.useEffect)((function(){!function(e){g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Object.keys(e).length>0)){t.next=6;break}return e.age_verified=!0,console.log(e,"data"),t.next=5,g.a.awrap(q.get("/v1/horses").then((function(e){d(!0),m(e.data)})).catch((function(e){d(!1)})));case 5:case 6:case"end":return t.stop()}}))}(o)}),[o]),r.a.createElement(I.a,{onClick:function(){c({yes:!0})},disabled:u,variant:"contained",color:"primary"},"Show All ")},A=a(102),B=a.n(A),z=a(49),N=a(218),V=a(31),W=V.object().shape({password:V.string().min(7,"Too Short!").max(16,"Too Long!").required("Required"),email:V.string().email("Invalid email").required("Required")}),D=V.object().shape(Object(N.a)({horse_name:V.string().min(1,"Too short").max(255,"Too long").required("Reuired"),horse_number:V.string().min(1,"Too Short").min(100,"Too long"),age_verified:V.string().required("Required"),ushja_registered:V.boolean().required("Required"),dob:V.date(),color:V.string().max(255,"Too long")},"ushja_registered",V.boolean().required("Required")));w.e;function F(){var e=Object(l.b)(),t=Object(n.useState)(!1),a=Object(h.a)(t,2),o=a[0],c=a[1],i=Object(n.useCallback)((function(){return e(O())}),[e]);return o?r.a.createElement(z.a,{to:"/"}):r.a.createElement(S.a,{as:"div",display:"flex",justifyContent:"flex-end",position:!0,left:!0}," ",r.a.createElement(I.a,{onClick:function(){window.localStorage.clear(),i(),c(!0)},variant:"outlined",color:"primary",mr:4,pr:4},"Signout"))}var J=a(498),L=a(487),M=a(496),P=a(491),U=a(499),Y=a(489),$=a(493),G=a(494),H=function(e){var t=e.label,a=Object(p.a)(e,["label"]),n=Object(w.c)(a),o=Object(h.a)(n,1)[0];return console.log(o,"fields"),r.a.createElement(S.a,{as:"div",ml:a.m,pl:2},r.a.createElement(J.a,Object.assign({},o,{control:r.a.createElement(a.Component,{color:"primary"}),label:t})))},K=function(e){var t=Object(w.d)().setFieldValue,a=Object(w.c)(e),n=Object(h.a)(a,1)[0];return console.log("date",n,e.type),r.a.createElement(S.a,{as:"span"},r.a.createElement(B.a,Object.assign({dateFormat:"yyyy/MM/dd",type:"date"},n,{strictParsing:!0},e,{onChange:function(e){t(n.name,"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")))}})),"  DOB")},Q=function(e){var t=Object(w.c)(e),a=Object(h.a)(t,1)[0];return r.a.createElement(S.a,{as:"div",mt:1,mb:1,ml:5,width:"100"},r.a.createElement(L.a,{p:1,height:"5"},r.a.createElement(M.a,null,"color"),r.a.createElement(P.a,Object.assign({width:"100",height:"23",variant:"outlined"},a),r.a.createElement(U.a,{value:""},"Select Color"),r.a.createElement(U.a,{value:"black"},"Black"),r.a.createElement(U.a,{value:"white"},"White"),r.a.createElement(U.a,{value:"red"},"Red"))))};var X=function(){var e=Object(l.b)(),t=Object(n.useState)({}),a=Object(h.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(h.a)(i,2),u=(s[0],s[1]);return Object(n.useCallback)((function(t){return e(j(t.data))}),[e]),Object(n.useCallback)((function(){return e(y())}),[e]),Object(n.useEffect)((function(){!function(e){var t;g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(e),!(Object.keys(e).length>0)){a.next=10;break}return v()(e.password),e.age_verified=!0,console.log(e,"data"),a.next=7,g.a.awrap(q.post("/v1/horses",{data:e}));case 7:t=a.sent,console.log(t),u(!0);case 10:case"end":return a.stop()}}))}(o)}),[o]),r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(Y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(S.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(w.b,{initialValues:{horse_name:"second",horse_number:"2",age_verified:"",ushja_registered:!0,dob:"1997-10-17",color:"black"},validationSchema:D,onSubmit:function(e,t){var a=t.setSubmitting;console.log(e),c(e),a(!1)}},(function(e){var t=e.values,a=(e.errors,e.touched,e.handleChange,e.handleBlur,e.handleSubmit,e.setFieldValue),n=e.isSubmitting;return r.a.createElement(w.a,null,r.a.createElement(x,{size:"small",type:"text",name:"horse_name",label:"Name"}),r.a.createElement(x,{type:"text",name:"horse_number",label:"Number"}),r.a.createElement(H,{type:"radio",Component:$.a,value:!0,name:"age_verified",label:"Age Verification"}),r.a.createElement(H,{ml:-10,type:"checkbox",name:"ushja_registered",Component:G.a,label:"Registration"}),r.a.createElement(K,{type:"date",name:"dob",onChanging:a}),r.a.createElement(Q,{name:"color"}),r.a.createElement(I.a,{m:10,fullWidth:!0,variant:"outlined",color:"secondary",type:"submit",disabled:n},"Submit"),r.a.createElement("pre",null,JSON.stringify(t,null,2)))}))),r.a.createElement(R,null)))},Z=a(221);function ee(){var e=Object(Z.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ee=function(){return e},e}var te=a(82).a.div(ee());var ae=function(e){var t=Object(l.b)(),a=Object(n.useState)({}),o=Object(h.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(!1),u=Object(h.a)(s,2),d=u[0],m=u[1],b=Object(n.useCallback)((function(e){return t(j(e.data))}),[t]);if(Object(n.useCallback)((function(){return t(y())}),[t]),Object(n.useEffect)((function(){!function(e){var t;g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(e),!(Object.keys(e).length>0)){a.next=6;break}return console.log(e,"data"),t=v()(e.password),a.next=6,g.a.awrap(_()({method:"post",url:"http://dev.api.staller.show/v1/users/login",data:{email:e.email,password:t.toString("hex")}}).then((function(e){b(e),m(!0)})).catch((function(e){console.log(e),m(!1)})));case 6:case"end":return a.stop()}}))}(c)}),[c]),window.localStorage.getItem("accessToken")||d){var p=e.location.pathname;return console.log("from",p,window.localStorage.getItem("accessToken")),"/"===e.location.pathname?r.a.createElement(X,null):r.a.createElement(z.a,{to:p})}return r.a.createElement("div",{className:"App"},r.a.createElement(te,null,r.a.createElement(w.b,{initialValues:{email:"",password:""},validationSchema:W,onSubmit:function(e,t){t.setSubmitting;i(e)}},(function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur,e.handleSubmit;var t=e.isSubmitting;return r.a.createElement(w.a,null,r.a.createElement(x,{type:"email",name:"email",placeholder:"Email"}),r.a.createElement(x,{type:"password",name:"password",placeholder:"Password"}),r.a.createElement(I.a,{m:10,fullWidth:!0,variant:"outlined",color:"secondary",type:"submit",disabled:t},"Login"))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(83),re=Object(z.g)((function(e){var t=e.location;return console.log(t),r.a.createElement(ae,{location:t})}));c.a.render(r.a.createElement(l.a,{store:m},r.a.createElement(ne.a,null,r.a.createElement(z.d,null,r.a.createElement(z.b,{exact:!0,path:"/"}," ",r.a.createElement(re,null)," "),r.a.createElement(z.b,{path:"/App"},window.localStorage.getItem("accessToken")?r.a.createElement(X,null):r.a.createElement(re,null)),r.a.createElement(z.b,{path:"*"}," ",r.a.createElement("h1",null," no match "))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},90:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},91:function(e,t,a){}},[[234,1,2]]]);
//# sourceMappingURL=main.f7ce2d7f.chunk.js.map